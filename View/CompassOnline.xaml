<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="AlwaysInTarget.View.CompassOnline"
             Shell.NavBarIsVisible="False"
             BackgroundImageSource="metal_a.jpg">

    <!-- ðŸ”¹ WspÃ³lne style dla caÅ‚ej strony -->
    <ContentPage.Resources>
        <!-- DomyÅ›lny wyglÄ…d ramek -->
        <Style TargetType="Border">
            <Setter Property="Padding" Value="2"/>
            <Setter Property="Margin" Value="5,2"/>
            <Setter Property="BackgroundColor" Value="Black"/>
        </Style>

        <!-- DomyÅ›lny wyglÄ…d labeli -->
        <Style TargetType="Label">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="TextColor" Value="WhiteSmoke"/>
            <Setter Property="Padding" Value="2"/>
            <Setter Property="VerticalOptions" Value="Center"/>
        </Style>

        <!-- DomyÅ›lny wyglÄ…d pÃ³l Entry -->
        <Style TargetType="Entry">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="TextColor" Value="WhiteSmoke"/>
            <Setter Property="HorizontalTextAlignment" Value="Center"/>
            <!--<Setter Property="HeightRequest" Value="32"/>-->
        </Style>

        <!-- DomyÅ›lny wyglÄ…d Picker -->
        <Style TargetType="Picker">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="TextColor" Value="WhiteSmoke"/>
        </Style>
    </ContentPage.Resources>

    <Grid>
        <VerticalStackLayout BackgroundColor="Transparent">
            <Border Padding="8" Margin="5,5,5,8" Stroke="LightSteelBlue" StrokeShape="RoundRectangle 10, 10">
                <Label Text="Flight director"
                   TextColor="White"
                   FontSize="20"
                   HorizontalTextAlignment="Center"
                   FontAttributes="Bold"/>
            </Border>

            <!-- Typ samolotu i system -->
            <Border Stroke="LightSteelBlue"  StrokeShape="RoundRectangle 10, 10">
                <Grid ColumnDefinitions="2*,2*">
                    <Entry x:Name="ePlaneType"
                       Text="{Binding PlaneType}"
                       Placeholder="...plane..."
                       IsReadOnly="True"/>
                    <Picker x:Name="eSystem"
                        Grid.Column="1"
                        Title="...system..."
                        ItemsSource="{Binding MeasureSystems}"
                        SelectedIndex="0"
                        SelectedItem="{Binding SelectedSystem}"
                        HorizontalTextAlignment="Center"
                        TextColor="WhiteSmoke"
                        TitleColor="Red"/>
                </Grid>
            </Border>

            <!-- Kompas -->
            <GraphicsView x:Name="CompassView"
                      HeightRequest="360"
                      WidthRequest="360"
                      Margin="0,15"/>

            <Border Margin="0.5" Stroke="LightSteelBlue" StrokeShape="RoundRectangle 10, 10">
                <Grid ColumnDefinitions="2*, 2*, 2*, 2*" RowDefinitions="50, 50">
                    <Label Text="Map HDG:" Grid.Row="0" Grid.Column="0"></Label>
                    <Entry Grid.Row="0" Grid.Column="1"
                       x:Name="eMapHDG"
                       Keyboard="Numeric"
                       Text="{Binding TrueCourse}"
                       IsEnabled="{Binding IsMapHeadingEnabled}"
                       TextChanged="OnChangeMapHDG"
                       ></Entry>
                    <Button Grid.Row="0" Grid.Column="2"
                        WidthRequest="60" HeightRequest="40"
                        FontSize="18"
                        FontAttributes="Bold"
                        Text="1"
                        BackgroundColor="{Binding NavigationComputerDatas[0].ButtonColor}"
                        BorderWidth="2"
                        BorderColor="WhiteSmoke"
                        Clicked="NavigationComputerButton" CommandParameter="1"
                        />

                    <Button Grid.Row="0" Grid.Column="3"
                        WidthRequest="60" HeightRequest="40"
                        FontSize="18"
                        FontAttributes="Bold"
                        Text="2"
                        BackgroundColor="{Binding NavigationComputerDatas[1].ButtonColor}"
                        BorderWidth="2"
                        BorderColor="WhiteSmoke"
                        Clicked="NavigationComputerButton" CommandParameter="2"
                        />


                    <Label Text="Map dist:" Grid.Row="1" Grid.Column="0"></Label>
                    <Entry Grid.Row="1" Grid.Column="1"
                       x:Name="eMapDist"
                       Keyboard="Numeric"
                       Text="{Binding MapDistance}"
                       IsEnabled="{Binding IsMapHeadingEnabled}"
                       TextChanged="OnChangeMapDist"
                       ></Entry>
                    <Button Grid.Row="1" Grid.Column="2"
                        WidthRequest="60" HeightRequest="40"
                        FontSize="18"
                        FontAttributes="Bold"
                        Text="3"
                        BackgroundColor="{Binding NavigationComputerDatas[2].ButtonColor}"
                        BorderWidth="2"
                        BorderColor="WhiteSmoke"
                        Clicked="NavigationComputerButton" CommandParameter="3"
                        />
                    <Button Grid.Row="1" Grid.Column="3" 
                        WidthRequest="60" HeightRequest="40"
                        FontSize="18"
                        FontAttributes="Bold"
                        Text="4"
                        BackgroundColor="{Binding NavigationComputerDatas[3].ButtonColor}"
                        BorderWidth="2"
                        BorderColor="WhiteSmoke"
                        Clicked="NavigationComputerButton" CommandParameter="4"
                        />

                </Grid>
            </Border>

            <Border Margin="0, 5" Stroke="LightSteelBlue"  StrokeShape="RoundRectangle 10, 10">
                <Grid ColumnDefinitions="2*, 2*, 2*, 2*" RowDefinitions="Auto">
                    <Label Text="Dist:" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"/>
                    <Entry x:Name="eDistance"
                       Grid.Row="0" Grid.Column="1" 
                       Text="{Binding Distance}"
                       Placeholder=" - - - "
                       IsReadOnly="True"/>

                    <Button Grid.Row="0" Grid.Column="2" Grid.ColumnSpan="2"
                    Text="Distance reset"
                    Margin="2"
                    x:Name="btnReset"
                    HorizontalOptions="Center"
                    VerticalOptions="Center"
                    Clicked="OnResetButtonClick"
                    MaximumHeightRequest="40"
                    BorderWidth="3"
                    BorderColor="Ivory"
                    BackgroundColor="Gray"/>
                </Grid>
            </Border>

            <Button Text="Back"
                Margin="5"
                x:Name="btnBack"
                HorizontalOptions="Center"
                VerticalOptions="Center"
                Clicked="OnBackButtonClick"
                WidthRequest="200"
                MaximumHeightRequest="40"
                BorderWidth="3"
                BorderColor="Ivory"
                BackgroundColor="Gray"/>

        </VerticalStackLayout>
    </Grid>

</ContentPage>
